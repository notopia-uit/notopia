# vim: ft=yaml.openapi
get:
  security:
    - oauth2: []
  tags:
    - note
  summary: List notes
  description: Retrieve a paginated list of all notes with optional filtering and sorting
  operationId: listNotes
  parameters:
    - $ref: ../../shared/components/parameters/pageQuery.yaml
    - $ref: ../../shared/components/parameters/limitQuery.yaml
    - $ref: ../../shared/components/parameters/orderQuery.yaml
    - name: sortBy
      in: query
      description: Field to sort by
      schema:
        type: string
        enum: [createdAt, updatedAt, title]
        default: createdAt
      example: createdAt
    - name: search
      in: query
      description: Search notes by title or content
      schema:
        type: string
      example: meeting notes
  responses:
    200:
      $ref: ../components/responses/ListNotesResponse.yaml
    400:
      $ref: ../../shared/components/responses/BadRequestError.yaml
    401:
      $ref: ../../shared/components/responses/UnauthorizedError.yaml
    500:
      $ref: ../../shared/components/responses/InternalServerError.yaml

post:
  security:
    - oauth2: []
  tags:
    - note
  summary: Create note
  description: Create a new note
  operationId: createNote
  requestBody:
    $ref: ../components/requestBodies/CreateNoteRequest.yaml
  responses:
    201:
      $ref: ../components/responses/CreateNoteResponse.yaml
    400:
      $ref: ../../shared/components/responses/BadRequestError.yaml
    401:
      $ref: ../../shared/components/responses/UnauthorizedError.yaml
    500:
      $ref: ../../shared/components/responses/InternalServerError.yaml
