# yaml-language-server: $schema=https://www.schemastore.org/traefik-v3-file-provider.json
http:
  middlewares:
    jwt:
      plugin:
        jwt:
          Keys: http://authentik/application/o/gateway/jwks/
          Required: true
          PayloadFields:
            - exp
            - sub
          JwtHeaders:
            X-Forwarded-ID: sub
            X-Forwarded-Email: email
            X-Forwarded-Groups: groups
            X-Forwarded-Roles: roles
          JwtSources:
            - type: bearer
              key: Authorization
